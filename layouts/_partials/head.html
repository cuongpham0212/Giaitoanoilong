<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}</title>

  <!-- SEO Meta -->
  <meta name="description" content='{{ with .Description }}{{ . | htmlEscape }}{{ else }}{{ .Site.Params.description | htmlEscape }}{{ end }}'>
  <meta name="author" content='{{ with .Site.Author.name }}{{ . }}{{ else }}Admin{{ end }}'>
  <link rel="canonical" href="{{ .Permalink }}">

  <!-- Open Graph -->
  <meta property="og:title" content='{{ .Title | htmlEscape }}'>
  <meta property="og:description" content='{{ with .Description }}{{ . | htmlEscape }}{{ else }}{{ .Site.Params.description | htmlEscape }}{{ end }}'>
  <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
  <meta property="og:url" content="{{ .Permalink }}">
  <meta property="og:image" content='{{ with .Params.banner }}{{ . | absURL }}{{ else }}{{ "images/default-banner.jpg" | absURL }}{{ end }}'>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content='{{ .Title | htmlEscape }}'>
  <meta name="twitter:description" content='{{ with .Description }}{{ . | htmlEscape }}{{ else }}{{ .Site.Params.description | htmlEscape }}{{ end }}'>
  <meta name="twitter:image" content='{{ with .Params.banner }}{{ . | absURL }}{{ else }}{{ "images/default-banner.jpg" | absURL }}{{ end }}'>

  <!-- CSS: Hugo Pipes xử lý Tailwind -->
  {{ $styles := resources.Get "css/main.css" | postCSS | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $styles.RelPermalink }}">

  <!-- Favicon -->
  <link rel="icon" href='{{ "favicon.ico" | relURL }}' type="image/x-icon">
  <link rel="icon" href='{{ "favicon-32.png" | relURL }}' type="image/png">
  <link rel="apple-touch-icon" href='{{ "favicon-180.png" | relURL }}'>

  <!-- Schema cho Article -->
  {{ if .IsPage }}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {"@type": "WebPage","@id": "{{ .Permalink }}"},
    "headline": "{{ .Title | htmlEscape }}",
    "description": "{{ with .Description }}{{ . | htmlEscape }}{{ else }}{{ .Site.Params.description | htmlEscape }}{{ end }}",
    "image": ["{{ with .Params.banner }}{{ . | absURL }}{{ else }}{{ "/images/default-banner.jpg" | absURL }}{{ end }}"],
    "author": {"@type": "Person","name": "{{ with .Params.author }}{{ . }}{{ else }}{{ .Site.Params.author }}{{ end }}"},
    "publisher": {"@type": "Organization","name": "{{ .Site.Title }}","logo": {"@type": "ImageObject","url": "{{ "/favicon-180.png" | absURL }}" }},
    "datePublished": "{{ .Date.Format "2006-01-02" }}",
    "dateModified": "{{ .Lastmod.Format "2006-01-02" }}"
  }
  </script>
  {{ end }}

  <!-- Schema cho Trang chủ -->
  {{ if .IsHome }}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ .Site.Title }}",
    "url": "{{ .Site.BaseURL }}",
    "description": "{{ .Site.Params.description | htmlEscape }}",
    "publisher": {"@type": "Organization","name": "{{ .Site.Title }}"}
  }
  </script>
  {{ end }}

<!-- Google Fonts: Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
  }
</style>

</head>
