{{ define "main" }}
<article class="bg-white rounded-2xl shadow-lg p-6 lg:p-10 max-w-4xl mx-auto transition duration-300 ease-in-out">

  <!-- Banner -->
  {{ with .Params.banner }}
    <img src="{{ . }}" alt="Banner bài viết"
         class="w-full h-64 object-cover rounded-2xl mb-6 shadow-md hover:opacity-95 transition duration-300">
  {{ end }}

  <!-- Tiêu đề & Ngày -->
  <header class="mb-8 text-center border-b pb-4">
    <h1 class="text-4xl font-extrabold text-gray-900 mb-3 leading-tight">{{ .Title }}</h1>
    <p class="text-sm text-gray-500 italic">{{ .Date.Format "02/01/2006" }}</p>
  </header>

  <!-- Nội dung bài viết -->
  <div class="prose prose-lg max-w-none text-gray-800 text-justify leading-relaxed">
    {{ .Content }}
  </div>

  <!-- Bài viết liên quan dạng grid card -->
  <section class="mt-14">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Bài viết liên quan</h2>
    <div class="grid gap-6 md:grid-cols-2">
      {{ $currentPage := . }}
      {{ range first 4 (where .Site.RegularPages "Section" .Section) }}
        {{ if ne .Permalink $currentPage.Permalink }}
          <div class="bg-gray-50 border rounded-xl p-4 shadow hover:shadow-lg transition duration-300 hover:-translate-y-1">
            <a href="{{ .RelPermalink }}">
              {{ with .Params.banner }}
                <img src="{{ . }}" alt="{{ .Title }}" class="rounded-lg mb-3 w-full h-32 object-cover">
              {{ end }}
            </a>
            <h3 class="font-semibold text-lg mb-1">
              <a href="{{ .RelPermalink }}" class="hover:text-blue-600 transition duration-200">{{ .Title }}</a>
            </h3>
            <p class="text-sm text-gray-500">{{ .Date.Format "02/01/2006" }}</p>
          </div>
        {{ end }}
      {{ end }}
    </div>
  </section>

  <!-- Nút chia sẻ -->
  <div class="mt-10 flex justify-center gap-4 flex-wrap">
    <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink }}" target="_blank" rel="noopener"
       class="px-5 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition shadow-md">Facebook</a>
    <a href="https://twitter.com/intent/tweet?url={{ .Permalink }}&text={{ .Title }}" target="_blank" rel="noopener"
       class="px-5 py-2 bg-sky-500 text-white rounded-full hover:bg-sky-600 transition shadow-md">Twitter</a>
  </div>

  <!-- Nút Donate & Book lịch -->
  <div class="mt-10 flex flex-wrap justify-center gap-4">
    <a href="https://www.momo.vn/your-donate-link" target="_blank" rel="noopener"
       class="px-6 py-3 bg-yellow-500 text-white font-bold rounded-xl shadow hover:bg-yellow-600 transition duration-200">
       🌱 Donate Ủng Hộ
    </a>
    <a href="https://calendly.com/your-booking-link" target="_blank" rel="noopener"
       class="px-6 py-3 bg-blue-500 text-white font-bold rounded-xl shadow hover:bg-blue-600 transition duration-200">
       📅 Book Lịch Chia Sẻ
    </a>
  </div>

  <!-- Nút quay lại -->
  <footer class="mt-12 text-center border-t pt-6">
    <a href="{{ .Section | relURL }}" class="text-gray-600 hover:text-blue-600 transition">
      ← Quay lại {{ .Section }}
    </a>
  </footer>

</article>
{{ end }}
